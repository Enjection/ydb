"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([["30713"],{61058:function(e,t,r){r.d(t,{T:()=>s.T});var s=r(53211)},60117:function(e,t,r){r.d(t,{c:()=>y});var s=r(74848);r(96540);var n=r(6876),a=r(5434),l=r(85169),i=r(46086),o=r(40897),c=r(25247),u=r(52198),d=r(52457),m=r(75561),h=r(83544),p=r(33269),g=r(17427);let v={[o.m.Blue]:u.A,[o.m.Yellow]:d.A,[o.m.Orange]:m.A,[o.m.Red]:d.A,[o.m.Green]:h.A,[o.m.Grey]:p.A};function f({status:e,...t}){return e?(0,s.jsx)(g.I,{...t,data:v[e]}):null}var x=r(26268),b=r(53788);let j=(0,c.cn)("ydb-entity-status-new"),w={[o.m.Red]:"danger",[o.m.Blue]:"info",[o.m.Green]:"success",[o.m.Grey]:"unknown",[o.m.Orange]:"orange",[o.m.Yellow]:"warning"},N={get[o.m.Red](){return(0,x.A)("title_red")},get[o.m.Yellow](){return(0,x.A)("title_yellow")},get[o.m.Orange](){return(0,x.A)("title_orange")},get[o.m.Green](){return(0,x.A)("title_green")},get[o.m.Grey](){return(0,x.A)("title_grey")},get[o.m.Blue](){return(0,x.A)("title_blue")}};function y({className:e,children:t}){return(0,s.jsx)(l.s,{gap:"2",wrap:"nowrap",alignItems:"center",className:j(null,e),children:t})}y.Label=function({children:e,status:t,withStatusName:r=!0,note:o,size:c="m",iconSize:u=14}){let d=w[t];return(0,s.jsx)(n.m,{title:b.D[t],disabled:!!o,children:(0,s.jsx)(a.J,{theme:"orange"===d?void 0:d,icon:(0,s.jsx)(f,{size:u,status:t}),size:c,className:j({orange:"orange"===d}),children:(0,s.jsxs)(l.s,{gap:"2",wrap:"nowrap",children:[e,r?N[t]:null,o&&(0,s.jsx)(i.H,{className:j("note"),children:o})]})})})},y.displayName="EntityStatus"},26268:function(e,t,r){r.d(t,{A:()=>a});var s=r(51432),n=JSON.parse('{"title_red":"Critical","title_blue":"Normal","title_green":"Good","title_grey":"Unknown","title_orange":"Caution","title_yellow":"Warning","context_red":"Some systems are failed and not available","context_yellow":"There are minor issues","context_orange":"Critical state, requires immediate attention","context_green":"Everything is working as expected","context_grey":"The condition cannot be determined","context_blue":"All good, some parts of the system are restoring"}');let a=(0,s.g4)("ydb-entity-status",{en:n})},53788:function(e,t,r){r.d(t,{D:()=>a});var s=r(40897),n=r(26268);let a={get[s.m.Red](){return(0,n.A)("context_red")},get[s.m.Yellow](){return(0,n.A)("context_yellow")},get[s.m.Orange](){return(0,n.A)("context_orange")},get[s.m.Green](){return(0,n.A)("context_green")},get[s.m.Grey](){return(0,n.A)("context_grey")},get[s.m.Blue](){return(0,n.A)("context_blue")}}},53808:function(e,t,r){r.d(t,{k:()=>c});var s=r(74848),n=r(96540),a=r(81392),l=r(51432),i=JSON.parse('{"value_all":"All","value_with-problems":"With problems"}');let o=(0,l.g4)("ydb-problem-filter",{en:i});function c({value:e,onChange:t,className:r}){let l=n.useCallback(e=>{t("true"===e)},[t]);return(0,s.jsxs)(a.x,{value:e.toString(),onUpdate:l,className:r,children:[(0,s.jsx)(a.x.Option,{value:"false",children:o("value_all")}),(0,s.jsx)(a.x.Option,{value:"true",children:o("value_with-problems")})]})}},4320:function(e,t,r){r.d(t,{v:()=>s.v});var s=r(29472)},9259:function(e,t,r){r.d(t,{A:()=>a});var s=r(51432),n=JSON.parse('{"field_links":"Links","field_monitoring-link":"Monitoring","field_logs-link":"Logs","context_unknown":"unknown database","action_edit":"Edit","action_remove":"Remove"}');let a=(0,s.g4)("ydb-tenant-name-wrapper",{en:n})},68650:function(e,t,r){r.r(t),r.d(t,{HomePage:()=>eJ});var s=r(74848),n=r(96540),a=r(81392),l=r(85169),i=r(77269),o=r(85902),c=r(56347),u=r(23273),d=r(30919),m=r(42724),h=r(8946),p=r(1459),g=r(66900),v=r(56496),f=r(67222);let x=v.F.injectEndpoints({endpoints:e=>({getMetaEnvironments:e.query({queryFn:async e=>{try{if(!window.api.meta)throw Error("Method is not implemented.");let e=await window.api.meta.getMetaEnvironments();return{data:function(e){let t=f.J.databasesEnvironmentsConfig?.getEnvironments?.();if(t?.length)return t;let r=e?.environments.map(e=>e.name)??[],s=f.J.databasesEnvironmentsConfig?.getSupportedEnvironments();return s?.length?s.filter(e=>r.includes(e)):[]}(e)}}catch(e){return{error:(0,g.N)(e)}}}})}),overrideExisting:"throw"});var b=r(39471),j=r(2837),w=r(25247),N=r(61738),y=r(88831),_=r(69045);let A=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.5 7a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m-.82 4.74a6 6 0 1 1 1.06-1.06l2.79 2.79a.75.75 0 1 1-1.06 1.06z",clipRule:"evenodd"}));var C=r(29581),E=r(17427),k=r(43834),S=r(67103),D=r(74010),L=r(4320),O=r(31596),G=r(48849),M=r(8466),T=r(60680),J=r.n(T);let z=e=>e.clusters.clusterName,I=e=>e.clusters.status,R=e=>e.clusters.service,P=e=>e.clusters.version;var B=r(35537),W=r(33702),V=r(94307),F=r(39688),U=r(68910),H=r(97547),Z=r(66111),q=r(56824),Q=r(5434),$=r(47037),Y=r(60117),K=r(41982),X=r(40897),ee=r(97855),et=r(35157),er=r(54549);let es="title",en="versions",ea="service",el="domain",ei="status",eo="nodes",ec="load",eu="storage",ed="hosts",em="tenants",eh="description",ep=[es,en,ea,ei,eo,ec,eu,ed,em],eg={[es]:"Cluster",[en]:"Versions",dc:"DC",[ea]:"Service",[el]:"Domain",[ei]:"Status",[eo]:"Nodes",[ec]:"Load",[eu]:"Storage",[ed]:"Hosts",[em]:"Databases",[eh]:"Description"};var ev=r(51432),ef=JSON.parse('{"controls_status-select-label":"Status:","controls_service-select-label":"Service:","controls_version-select-label":"Version:","controls_search-placeholder":"Cluster name, version, domain, host...","controls_select-placeholder":"All","statistics_clusters":"Clusters","statistics_hosts":"Hosts","statistics_tenants":"Tenants","statistics_nodes":"Nodes","statistics_load":"Load","statistics_storage":"Storage","tooltip_no-cluster-data":"No cluster data","clusters-count":{"one":"{{count}} cluster found","other":"{{count}} clusters found"},"entities-count":"{{value}} of {{capacity}}","page_title":"Clusters","edit-cluster":"Edit Cluster","remove-cluster":"Remove Cluster"}');let ex=(0,ev.g4)("ydb-clusters-page",{en:ef}),eb=(0,w.cn)("ydb-clusters");var ej=r(88387);function ew(e,t){let{use_embedded_ui:r,preparedBackend:s,name:n,clusterDomain:a,settings:l,clusterExternalName:i}=e;return r&&s?(0,ej.t1)(s):(0,h.a)({activeTab:t,environment:a?void 0:l?.auth_service},{backend:a?void 0:s,clusterName:a&&i?i:n},{withBasename:!0},a)}let eN=(0,s.jsx)("span",{className:eb("empty-cell"),children:B.Pd});function ey({row:e}){let t=ew(e);return(0,s.jsx)("div",{className:eb("cluster-name"),children:(0,s.jsx)(q.N,{href:t,children:e.title||e.name})})}let e_=[{name:en,header:eg[en],width:400,defaultOrder:C.Ay.DESCENDING,sortAccessor:({preparedVersions:e})=>e.map(e=>e.version.replace(/^[0-9]\+\./g,"")).sort((e,t)=>e.localeCompare(t))[0]||void 0,render:({row:e})=>{let{versions:t=[]}=e;return!t.length||t.some(e=>!e.version)?eN:(0,s.jsx)(eA,{row:e})}},{name:ei,header:eg[ei],width:180,sortable:!0,render:({row:e})=>(0,s.jsx)(Q.J,{children:e.status})},{name:ea,header:eg[ea],width:100,sortable:!0},{name:el,header:eg[el],width:170,sortable:!0},{name:"dc",header:eg.dc,width:120,sortable:!1,render:({row:e})=>{let t=e.cluster&&e.cluster.DataCenters||[];return(0,s.jsx)("div",{className:eb("cluster-dc"),children:t.filter(Boolean).join(", ")||eN})}},{name:eo,header:eg[eo],width:170,resizeMinWidth:170,defaultOrder:C.Ay.DESCENDING,sortAccessor:({cluster:e={}})=>{let{NodesTotal:t=0}=e;return t},render:({row:e})=>{let{NodesAlive:t=0,NodesTotal:r=0,Overall:n}=e.cluster||{};return n?(0,s.jsx)(eC,{value:t,capacity:r,description:ex("entities-count",{value:(0,ee.ZV)(t),capacity:(0,ee.ZV)(r)})}):eN}},{name:ec,header:eg[ec],width:170,resizeMinWidth:170,defaultOrder:C.Ay.DESCENDING,sortAccessor:({cluster:e})=>e?.NumberOfCpus||0,render:({row:e})=>{let{LoadAverage:t=0,NumberOfCpus:r=0,RealNumberOfCpus:n,Overall:a}=e.cluster||{};return a?(0,s.jsx)(eC,{value:t,capacity:n??r,description:ex("entities-count",{value:(0,ee.ZV)(Math.round(t)),capacity:(0,ee.ZV)(n??r)})}):eN}},{name:eu,header:eg[eu],width:170,resizeMinWidth:170,defaultOrder:C.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(e?.StorageTotal)||0,render:({row:e})=>{let{StorageUsed:t=0,StorageTotal:r=0,Overall:n}=e.cluster||{};if(!n)return eN;let[a,l]=(0,ee.ki)(Number(t),Number(r));return(0,s.jsx)(eC,{value:Number(t),capacity:Number(r),description:ex("entities-count",{value:a,capacity:l})})}},{name:ed,header:eg[ed],width:80,defaultOrder:C.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(e?.Hosts)||0,render:({row:e})=>Number(e.cluster?.Hosts)||eN},{name:em,header:eg[em],width:80,defaultOrder:C.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(e?.Tenants)||0,render:({row:e})=>Number(e.cluster?.Tenants)||eN},{name:eh,header:eg[eh],sortable:!1,width:200,render:({row:e})=>e.description?(0,s.jsx)("div",{className:eb("description"),children:e.description}):eN}];function eA({row:e}){let{preparedVersions:t}=e;if(!t.length)return null;let r=ew(e,er.Bi.versions);return(0,s.jsx)(q.N,{className:eb("cluster-versions"),href:r,children:(0,s.jsx)(K.p,{preparedVersions:t})})}function eC({value:e,capacity:t,description:r}){return(0,s.jsxs)(l.s,{direction:"column",gap:2,children:[(0,s.jsx)("div",{children:(0,s.jsx)($.k,{theme:"success",size:"s",value:t?e/t*100:0,className:eb("progress")})}),r]})}function eE({scrollContainerRef:e}){let[t]=(0,N.Nt)(),r=M.ub.useGetClustersListQuery(void 0,{pollingInterval:t}),a=(0,N.YQ)(),o=(0,p.ip)(),c=o&&void 0!==f.J.onEditCluster,u=o&&void 0!==f.J.onDeleteCluster,d=(0,N.N4)(z),m=(0,N.N4)(I),h=(0,N.N4)(R),g=(0,N.N4)(P),v=n.useMemo(()=>[function({isEditClusterAvailable:e,isDeleteClusterAvailable:t}){return{name:es,header:eg[es],width:320,defaultOrder:C.Ay.ASCENDING,sortAccessor:e=>e.title||e.name,render:({row:r})=>{let n=r.cluster?.Overall,a=r.balancer?(0,et.Zd)(r.balancer):null;return(0,s.jsxs)(l.s,{direction:"column",gap:.5,children:[(0,s.jsxs)(l.s,{alignItems:"flex-start",justifyContent:"space-between",gap:1,children:[(0,s.jsx)(ey,{row:r}),(0,s.jsxs)(l.s,{gap:1,children:[n?(0,s.jsx)(Y.c.Label,{status:n,size:"xs"}):(0,s.jsx)(Y.c.Label,{status:X.m.Grey,note:r.cluster?.error||ex("tooltip_no-cluster-data"),size:"xs"}),(()=>{let n=[],{onEditCluster:a,onDeleteCluster:l}=f.J;return(e&&a&&n.push({text:ex("edit-cluster"),iconStart:(0,s.jsx)(F.A,{}),action:()=>{a({clusterData:r})}}),t&&l&&n.push({text:ex("remove-cluster"),iconStart:(0,s.jsx)(U.A,{}),action:()=>{l({clusterData:r})},theme:"danger"}),n.length)?(0,s.jsx)(H.r,{items:n,defaultSwitcherProps:{view:"flat-secondary",size:"xs"},size:"s",menuProps:{size:"l"}}):null})()]})]}),a?(0,s.jsxs)(l.s,{gap:.5,alignItems:"center",children:[(0,s.jsx)(i.E,{variant:"caption-2",color:"secondary",children:a}),(0,s.jsx)(Z.b,{size:"xs",text:a,className:eb("balancer-copy-icon")})]}):null]})}}}({isEditClusterAvailable:c,isDeleteClusterAvailable:u}),...e_],[u,c]),{columnsToShow:x,columnsToSelect:b,setColumns:j}=(0,W.K)(v,"selectedColumns",eg,ep,[es]),w=r.data,{servicesToSelect:y,versions:_}=n.useMemo(()=>{let e=new Set,t=new Set;return(w??[]).forEach(r=>{r.service&&e.add(r.service),r.cluster?.Versions?.forEach(e=>{t.add((0,V.U)(e))})}),{servicesToSelect:Array.from(e).map(e=>({value:e,content:e})),versions:Array.from(t).map(e=>({value:e,content:e}))}},[w]),T=n.useMemo(()=>{var e,t;return e=w??[],t={clusterName:d,status:m,service:h,version:g},e.filter(e=>{let r,s,n;return(0===(r=t.status).length||e.status&&r.includes(e.status))&&(0===(s=t.service).length||e.service&&s.includes(e.service))&&(0===(n=t.version).length||n.some(t=>e.cluster?.Versions?.some(e=>e.startsWith(t))))&&((e,t="")=>{let r;if(!t)return!0;let s=t.toLowerCase(),n=s.split(" "),a=(r=e.title,r?.toLowerCase().match(/[a-zA-Z]+|\d+/g)||[]),l=n.every(t=>{let r=J()(t),s=RegExp(`^${r}|[^a-zA-Z0-9]${r}`,"i");return e.title&&s.test(e.title)||a.some(e=>e.startsWith(t))}),i=e.preparedVersions.some(e=>e.version.includes(s)),o=!!(e.hosts&&e.hosts[s]),c=e.domain?.toLowerCase().includes(s);return l||i||o||c})(e,t.clusterName)})},[d,w,h,m,g]),q=n.useMemo(()=>Array.from(new Set((w??[]).map(e=>e.status).filter(Boolean))).sort().map(e=>({value:e,content:e})),[w]);return(0,s.jsxs)(G.L,{fullHeight:!0,className:eb(null),children:[(0,s.jsx)(G.L.Controls,{className:eb("controls"),renderExtraControls:()=>(0,s.jsx)(O.O,{popupWidth:242,items:b,showStatus:!0,onUpdate:j}),children:(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(L.v,{placeholder:ex("controls_search-placeholder"),endContent:(0,s.jsx)(E.I,{data:A,className:eb("search-icon")}),onChange:e=>{a((0,M.Fe)({clusterName:e}))},value:d,width:320}),(0,s.jsx)(k.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ex("controls_select-placeholder"),label:ex("controls_status-select-label"),value:m,options:q,onUpdate:e=>{a((0,M.Fe)({status:e}))},width:200}),(0,s.jsx)(k.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ex("controls_select-placeholder"),label:ex("controls_service-select-label"),value:h,options:y,onUpdate:e=>{a((0,M.Fe)({service:e}))},width:200}),(0,s.jsx)(k.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ex("controls_select-placeholder"),label:ex("controls_version-select-label"),value:g,options:_,onUpdate:e=>{a((0,M.Fe)({version:e}))},width:200})]})}),r.isError?(0,s.jsx)(S.o,{error:r.error}):null,r.isLoading?null:(0,s.jsx)(i.E,{variant:"body-1",color:"hint",className:eb("clusters-count"),children:ex("clusters-count",{count:T.length})}),(0,s.jsx)(G.L.Table,{scrollContainerRef:e,className:eb("table-wrapper"),children:(0,s.jsx)(D.l,{isLoading:r.isLoading,columnsWidthLSKey:"clustersTableColumnsWidth",wrapperClassName:eb("table"),data:T,columns:x,settings:{...B.N3,dynamicRender:!1},initialSortOrder:{columnId:es,order:C.Ay.ASCENDING}})})]})}var ek=r(43125),eS=JSON.parse('{"page-title_databases":"Databases","page-title_clusters":"Clusters","value_all-clusters":"All Clusters","value_my-databases":"My Databases"}');let eD=(0,ev.g4)("ydb-home-page",{en:eS});var eL=r(22708);function eO(e,t){return!!(e&&t.includes(e)&&!eG(e))}function eG(e){return f.J.databasesEnvironmentsConfig?.getEnvironmentDomain?.(e)}var eM=r(35448);let eT=(0,w.cn)("ydb-home-page");function eJ(){let e=(0,N.YQ)(),t=(0,c.W6)(),r=n.useRef(null),g=(0,eM.N)(),v=(0,p.iB)(),w=(0,y.b)(),[A,C]=(0,N.iK)(j.GS.HOME_PAGE_TAB),{data:E,isLoading:k,error:S}=x.useGetMetaEnvironmentsQuery(void 0,{skip:!v}),D=!v||!k&&(!E||E?.length===0),{databasesPageEnvironment:L,envParamFromQuery:O,handleEnvironmentChange:G}=function(e){let[t,r]=(0,eL.useQueryParam)("env",eL.StringParam),[s,a]=(0,N.iK)(j.GS.DATABASES_PAGE_ENVIRONMENT),l=(0,p.iB)();return{databasesPageEnvironment:n.useMemo(()=>{if(!l||!e)return;if(eO(t,e))return t;if(eO(s,e))return s;let r=f.J.databasesEnvironmentsConfig?.getDefaultEnvironment?.();return eO(r,e)?r:e.find(e=>!eG(e))},[l,t,s,e]),envParamFromQuery:t,handleEnvironmentChange:n.useCallback(e=>{r(e,"replaceIn"),a(e)},[r,a])}}(E),M=n.useMemo(()=>v?w?h.Jd.catch(A).parse(g):"databases":"clusters",[w,g,A,v]),T="clusters"===M?eD("page-title_clusters"):eD("page-title_databases"),J=f.J.homePageTitle??T,z=(0,_.Pq)(S),I=z?f.J.clusterOrDatabaseAccessError:void 0,R="databases"===M&&E&&E?.length>1;n.useEffect(()=>{e((0,b.g)("homePage",{}))},[e]),n.useEffect(()=>{"databases"===M&&E&&E?.length>1&&L&&L!==O&&G(L)},[M,E,L,O,G]);let P=n.useMemo(()=>{let e=f.J.databasesEnvironmentsConfig?.getEnvironmentTitle;return E?.map(t=>({title:e?.(t)??t,value:t}))},[E]),B=n.useCallback(e=>{C(e);let r=(0,h.Q5)({activeTab:e});t.replace(r)},[t,C]),W=n.useCallback(e=>{let t=f.J.databasesEnvironmentsConfig?.getEnvironmentDomain?.(e);if(t){let r=new URL((0,h.Ad)({env:e}),t).toString();window.location.href=r}else G(e)},[G]),V=()=>R?(0,s.jsx)("div",{children:(0,s.jsx)(a.x,{size:"l",value:L,onUpdate:W,children:P?.map(({title:e,value:t})=>(0,s.jsx)(a.x.Option,{value:t,children:e},t))})}):null;return(0,s.jsx)(d.A,{error:z?S:void 0,...I,errorPageTitle:J,children:(0,s.jsxs)(m.r,{loading:k,children:[(0,s.jsx)(o.mg,{children:(0,s.jsx)("title",{children:T})}),(0,s.jsxs)(l.s,{direction:"column",className:eT(),ref:r,children:[!D&&(w||R)?w?(0,s.jsxs)(l.s,{direction:"row",justifyContent:"space-between",className:eT("controls-wrapper"),children:[(0,s.jsxs)(l.s,{gap:4,direction:"row",children:[(0,s.jsxs)(a.x,{size:"l",value:M,onUpdate:B,children:[(0,s.jsx)(a.x.Option,{value:"clusters",children:eD("value_all-clusters")}),(0,s.jsx)(a.x.Option,{value:"databases",children:eD("value_my-databases")})]}),V()]}),(0,s.jsx)(u.E,{})]}):(0,s.jsxs)(l.s,{gap:4,direction:"column",className:eT("controls-wrapper"),children:[(0,s.jsx)(i.E,{variant:"header-1",children:J}),(0,s.jsxs)(l.s,{direction:"row",justifyContent:"space-between",children:[V(),(0,s.jsx)(u.E,{})]})]}):(0,s.jsxs)(l.s,{gap:4,direction:"row",justifyContent:"space-between",className:eT("controls-wrapper"),children:[(0,s.jsx)(i.E,{variant:"header-1",children:J}),(0,s.jsx)(u.E,{})]}),(0,s.jsx)(l.s,{className:eT("content-wrapper"),children:(()=>{let e=(0,h.a3)((0,h.ZD)()).pathname,t=(0,h.a3)((0,h.Ad)()).pathname;if(D&&"clusters"!==M)return(0,s.jsx)(c.rd,{to:e});if(M!==g){let e=(0,h.a3)((0,h.Q5)({activeTab:M})).pathname;return(0,s.jsx)(c.rd,{to:e})}return(0,s.jsxs)(c.dO,{children:[(0,s.jsx)(c.qh,{path:e,children:(0,s.jsx)(eE,{scrollContainerRef:r})}),(0,s.jsx)(c.qh,{path:t,children:(0,s.jsx)(ek.A,{clusterName:void 0,environmentName:L,isMetaDatabasesAvailable:!0,scrollContainerRef:r,additionalTenantsProps:void 0,showDomainDatabase:!0,showPoolsColumn:!1,showWithProblemsFilter:!1})})]})})()})]})]})})}},53263:function(e,t,r){r.d(t,{f:()=>l,y:()=>i});var s=r(50247),n=r(32824),a=r(9259);function l(e,t,r){if(!e)return[];let l=[];if(e.getMonitoringLink){let n=e.getMonitoringLink(t,r);n&&l.push({title:(0,a.A)("field_monitoring-link"),url:n,icon:s.A})}if(e.getLogsLink){let r=e.getLogsLink(t);r&&l.push({title:(0,a.A)("field_logs-link"),url:r,icon:n.A})}return e.getLinks&&l.push(...e.getLinks(t,r)),l}function i(e,t,r){if(!e)return[];let s=[];if(e.getLogsLink){let r=e.getLogsLink(t);r&&s.push({title:(0,a.A)("field_logs-link"),url:r,icon:n.A})}return e.getLinks&&s.push(...e.getLinks(t,r)),s}},47037:function(e,t,r){r.d(t,{k:()=>d});var s=r(74848),n=r(96540);let a=(0,r(54699).om)("progress");function l(e){let{text:t,offset:r=0}=e;return t?(0,s.jsx)("div",{className:a("text-inner"),style:{transform:`translateX(calc(var(--g-flow-direction) * ${-r}%))`},children:t}):null}function i({item:e}){let{value:t,color:r,className:n,theme:l,title:i,content:o,loading:c}=e,u={loading:c};return(void 0===r&&(u.theme=l||"default"),Number.isFinite(t))?(0,s.jsx)("div",{className:a("item",u,n),style:{width:`${t}%`,backgroundColor:r},title:i,children:o}):null}function o(e){return e<100?e-100:0}function c(e){let{stack:t,stackClassName:r,value:n,text:c}=e,u=o(n||t.reduce((e,{value:t})=>e+t,0));return(0,s.jsxs)("div",{className:a("stack",r),style:{transform:`translateX(calc(var(--g-flow-direction) * ${u}%))`},children:[(0,s.jsx)("div",{className:a("item"),style:{width:`${-u}%`}}),t.map((e,t)=>(0,s.jsx)(i,{item:e},t)),(0,s.jsx)(l,{offset:u,text:c})]})}function u(e){let{value:t,loading:r,text:n}=e,i=o(t);return Number.isFinite(t)?(0,s.jsx)("div",{className:a("item",{theme:function(e){let{theme:t,colorStops:r,colorStopsValue:s,value:n}=e;if(r){let e=r.find((e,t)=>{let a="number"==typeof s?s:n,l=t>1?r[t-1].stop:0,i=t<r.length-1?e.stop:100;return a>=l&&a<=i});return e?e.theme:t}return t}(e),loading:r}),style:{transform:`translateX(calc(var(--g-flow-direction) * ${i}%))`},children:(0,s.jsx)(l,{offset:i,text:n})}):null}let d=n.forwardRef(function(e,t){let{text:r="",theme:n="default",size:l="m",loading:i=!1,className:o,qa:d}=e,m={...e,text:r,theme:n,size:l,loading:i};return(0,s.jsxs)("div",{ref:t,className:a({size:l},o),"data-qa":d,children:[(0,s.jsx)("div",{className:a("text"),children:r}),void 0!==m.stack?(0,s.jsx)(c,{...m}):(0,s.jsx)(u,{...m})]})})}}]);